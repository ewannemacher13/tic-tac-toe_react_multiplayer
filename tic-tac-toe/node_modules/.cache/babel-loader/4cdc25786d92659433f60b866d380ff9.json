{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\progs\\\\nodeProgs\\\\tic-tac-toe_react_multi\\\\tic-tac-toe\\\\src\\\\App.js\";\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport React from 'react';\n\nfunction determineWinner(boardState) {\n  // will come in ['X','O',null,null....]\n  // win states: 3 same horizontal, 3 same vertical, 3 same diagonal\n  // 0 1 2\n  // 3 4 5\n  // 6 7 8\n  const winStates = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n\n  for (let i = 0; i < winStates.length; i++) {\n    const [a, b, c] = winStates[i];\n\n    if (boardState[a] && boardState[a] === boardState[b] && boardState[a] === boardState[c]) {\n      return boardState[a];\n    }\n  }\n\n  return null;\n}\n\nfunction Square(props) {\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"square\",\n    onClick: props.onClick,\n    children: props.value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 7\n  }, this);\n}\n\n_c = Square;\n\nclass Board extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      squares: Array(9).fill(null),\n      player: 'X',\n      winner: null\n    };\n  }\n\n  handleClick(i) {\n    const squares = this.state.squares.slice();\n\n    if (determineWinner(squares) || squares[i]) {\n      return;\n    }\n\n    squares[i] = this.state.player;\n    const winner = determineWinner(squares);\n    this.setState({\n      squares: squares,\n      player: this.state.player === 'X' ? 'O' : 'X',\n      winner: winner\n    });\n  }\n\n  renderSquare(i) {\n    return /*#__PURE__*/_jsxDEV(Square, {\n      value: this.state.squares[i],\n      onClick: () => this.handleClick(i, this.props.player)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 12\n    }, this);\n  }\n\n  resetGame() {\n    this.setState({\n      squares: Array(9).fill(null),\n      player: 'X',\n      winner: null\n    });\n  }\n\n  render() {\n    const winner = this.state.winner;\n    let status;\n\n    if (winner) {\n      status = `Player ${winner} wins!`;\n    } else {\n      status = `Player ${this.state.player}'s turn`;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"board\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board board-row\",\n        children: [this.renderSquare(0), this.renderSquare(1), this.renderSquare(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board board-row\",\n        children: [this.renderSquare(3), this.renderSquare(4), this.renderSquare(5)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board board-row\",\n        children: [this.renderSquare(6), this.renderSquare(7), this.renderSquare(8)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"reset-button\",\n        onClick: () => this.resetGame(),\n        children: \"Reset Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.callAPI = async () => {\n      const response = await fetch('/b');\n      const body = await response.json();\n      if (response.status !== 200) throw Error(body.message);\n      console.log(`api got: ${body.message}`);\n      return body;\n    };\n\n    this.getGameId = async () => {\n      // asks the server to generate a unique game id\n      const response = await fetch('/gen');\n      const body = await response.json();\n      if (response.status !== 200) throw Error(body.message);\n      return body;\n    };\n\n    this.state = {\n      apiResponse: '',\n      gameId: ''\n    };\n  }\n\n  componentDidMount() {\n    this.callAPI() // .then(res => console.log(res.express))\n    .then(res => this.setState({\n      apiResponse: res.express\n    })).catch(err => console.log(err));\n    this.getGameId().then(res => this.setState({\n      gameId: res.id\n    })).catch(err => console.log(err));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Game\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Api Response: \", this.state.apiResponse]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Welcome to Tic-Tac-Toe!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Board, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Your game id is: \", this.state.gameId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Game; // function App() {\n//   return (\n//     <div className=\"App\">\n//       <header className=\"App-header\">\n//         <img src={logo} className=\"App-logo\" alt=\"logo\" />\n//         <p>\n//           Edit <code>src/App.js</code> and save to refresh.\n//         </p>\n//         <a\n//           className=\"App-link\"\n//           href=\"https://reactjs.org\"\n//           target=\"_blank\"\n//           rel=\"noopener noreferrer\"\n//         >\n//           Learn React\n//         </a>\n//       </header>\n//     </div>\n//   );\n// }\n// export default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"Square\");","map":{"version":3,"sources":["C:/progs/nodeProgs/tic-tac-toe_react_multi/tic-tac-toe/src/App.js"],"names":["React","determineWinner","boardState","winStates","i","length","a","b","c","Square","props","onClick","value","Board","Component","constructor","state","squares","Array","fill","player","winner","handleClick","slice","setState","renderSquare","resetGame","render","status","Game","callAPI","response","fetch","body","json","Error","message","console","log","getGameId","apiResponse","gameId","componentDidMount","then","res","express","catch","err","id"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport React from 'react'\n\nfunction determineWinner(boardState) {\n  // will come in ['X','O',null,null....]\n  // win states: 3 same horizontal, 3 same vertical, 3 same diagonal\n  \n  // 0 1 2\n  // 3 4 5\n  // 6 7 8\n\n  const winStates = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n\n  for (let i = 0; i < winStates.length; i++) {\n    const [a,b,c] = winStates[i];\n    if (boardState[a] &&boardState[a] === boardState[b] && boardState[a] === boardState[c]) {\n      return boardState[a];\n    }\n  }\n  return null;\n}\n\nfunction Square(props) {\n  return (\n      <button className=\"square\" onClick={props.onClick}>\n        {props.value}\n      </button>\n  );\n}\n\nclass Board extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      squares: Array(9).fill(null),\n      player:'X',\n      winner:null,\n    };\n  }\n\n  handleClick(i) {\n      const squares = this.state.squares.slice();\n      if (determineWinner(squares) || squares[i]) {\n        return;\n      }\n      squares[i] = this.state.player;\n      const winner = determineWinner(squares);\n      this.setState({\n        squares: squares,\n        player: (this.state.player==='X') ? 'O' : 'X',\n        winner: winner\n      });\n  }\n\n  renderSquare(i) {\n    return <Square \n      value={this.state.squares[i]}\n      onClick={() => this.handleClick(i,this.props.player)}\n      />;\n  }\n\n  resetGame() {\n    this.setState({\n      squares: Array(9).fill(null),\n      player: 'X',\n      winner:null,\n    });\n  }\n\n  render() {\n    const winner = this.state.winner;\n    let status;\n    if (winner) {\n      status = `Player ${winner} wins!`;\n    }\n    else {\n      status = `Player ${this.state.player}'s turn`;\n    }\n    return (\n      <div className=\"board\">\n        <p>{status}</p>\n        <div className=\"board board-row\">\n          {this.renderSquare(0)}\n          {this.renderSquare(1)}\n          {this.renderSquare(2)}\n        </div>\n        <div className=\"board board-row\">\n          {this.renderSquare(3)}\n          {this.renderSquare(4)}\n          {this.renderSquare(5)}\n        </div>\n        <div className=\"board board-row\">\n          {this.renderSquare(6)}\n          {this.renderSquare(7)}\n          {this.renderSquare(8)}\n        </div>\n        \n        <button className=\"reset-button\" onClick={() => this.resetGame() }>Reset Game</button>\n      </div>\n    );\n  }\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      apiResponse:'',\n      gameId: ''};\n  }\n\n  callAPI = async () => {\n    const response = await fetch('/b');\n    const body = await response.json();\n\n    if (response.status !== 200) throw Error(body.message);\n    console.log(`api got: ${body.message}`);\n\n    return body;\n  }\n\n  getGameId = async () => {\n    // asks the server to generate a unique game id\n    const response = await fetch('/gen');\n    const body = await response.json();\n\n    if (response.status !== 200) throw Error(body.message);\n    \n    return body;\n\n  }\n\n  componentDidMount() {\n    this.callAPI()\n      // .then(res => console.log(res.express))\n      .then(res => this.setState({apiResponse: res.express}))\n      .catch(err => console.log(err));\n\n    this.getGameId()\n    .then(res => this.setState({gameId: res.id}))\n    .catch(err => console.log(err));\n  }\n\n  \n\n  render() {\n    return (\n        <div className=\"Game\">\n          <p>Api Response: {this.state.apiResponse}</p>\n          <p>Welcome to Tic-Tac-Toe!</p>\n          <div >\n            <Board />\n          </div>\n          <p>Your game id is: {this.state.gameId}</p>\n        </div>\n      \n    );\n  }\n}\n\nexport default Game;\n\n// function App() {\n//   return (\n//     <div className=\"App\">\n//       <header className=\"App-header\">\n//         <img src={logo} className=\"App-logo\" alt=\"logo\" />\n//         <p>\n//           Edit <code>src/App.js</code> and save to refresh.\n//         </p>\n//         <a\n//           className=\"App-link\"\n//           href=\"https://reactjs.org\"\n//           target=\"_blank\"\n//           rel=\"noopener noreferrer\"\n//         >\n//           Learn React\n//         </a>\n//       </header>\n//     </div>\n//   );\n// }\n\n// export default App;\n"]},"metadata":{},"sourceType":"module"}